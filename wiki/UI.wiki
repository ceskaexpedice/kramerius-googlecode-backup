#summary Zobrazení a vyhledávání
#sidebar FunkcniPozadavky
<wiki:toc max_depth="1" />

Oproti předchozí verzi, založené na procházení stromové struktury dat, je uživatelské rozhraní Kramerius 4 více orientováno na fulltextové vyhledávání dokumentů, doplněné o rychlý výběr skupin dokumentů pomocí faset a časové osy. Další změnou je způsob zobrazení vlastního obsahu vybraného dokumentu, kde je vždy vidět jeho celá struktura namísto "zanořování" do nižších úrovní dokumentu - uživatel má vždy k dispozici přehlednou informaci o celkovém kontextu.

=Úvodní obrazovka=

http://kramerius.googlecode.com/svn/wiki/UvodniStranka.png

Pole pro zadání klíčových slov pro fulltextové vyhledání je v záhlaví stránky, hlavní panel obsahuje sadu vyhledávacích faset (abeceda titul, abeceda autor, typ dokumentu, jazyk) doplněnou o vertikální časovou osu (specializovaná faseta pro datum vydání). V dolní části stránky je prostor pro "upoutávky" na vybrané dokumenty, případně na obsah definovaný administrátorem.

=Výsledky vyhledávání=

http://kramerius.googlecode.com/svn/wiki/VysledkyVyhledavani.png

Po spuštění vyhledávání jsou výsledky zobrazeny ve stránkovaném seznamu, pro jehož jednotlivé položky je možno načíst více podrobností (kliknutím na rozevírací trojúhelník vlevo) nebo přejít do zobrazení celého záznamu. Uživatel má k dispozici i všechny ovládací prvky pro zadání nových vyhledávacích kritérií, stejně jako na úvodní stránce.


=Zobrazení objektu=

http://kramerius.googlecode.com/svn/wiki/ZobrazeniTitulu.png

V této stránce je zobrazen libovolný objekt vybraný v seznamu na stránce výsledků vyhledávání. Hlavní část stránky (vlevo) představuje náhled zvolené stránky ve velkém rozlišení. 

V pravém panelu je zobrazena struktura metadat celého dokumentu od nejvyšší úrovně (titul) až po nejnižší (stránky). Aktuální objekt, jehož metadata jsou zobrazena na dané úrovni, je možno vybrat z rozevírací nabídky v záhlaví příslušné úrovně. Výjimkou je nejnižší úroveň (jednotlivé stránky), jejichž seznam je zobrazen  v dolní části obrazovky v javascriptové komponentě typu Cover Flow (obdoba browseru přehrávače iTunes nebo správce souborů MacOS).  Obsah jednotlivých ikon v Cover Flow bude načten z datového streamu IMG_THUMB. 
Obsah zobrazovaných metadat je pro každou úroveň konfigurovatelný pomocí XSLT šablony.

Pokud objekt obsahuje více typů RDF vazeb na jedné úrovni (např. hasPage i hasInternalPart), budou odkazované objekty sdruženy do jednotlivých záložek podle typu vazby.

U každé úrovně je k dispozici rozbalovací kontextové menu (tlačítko vpravo od záhlaví dané úrovně) s operacemi, které daný uživatel může pro tuto úroveň dokumentu spustit - např. export do PDF, zobrazení úplných bibliografických metadat, administrativní operace apod.


=Volba jazykové verze=
===Popis požadavku:===
Jazyk uživatelského rozhraní je volen v servisním menu, volba je uložena v uživatelských předvolbách. Pro první přihlášení je zvolen jazyk nastavený v předvolbách prohlížeče.


=Kontextová nápověda=
===Popis požadavku:===
Kontextová nápověda je vyvolána pomocí ovládacího prvku v servisním menu.

===Poznámky k technickému řešení:===
Nápověda je otevřena v samostatném okně prohlížeče.



=Generování PDF=
===Popis požadavku:===
Pro libovolnou úroveň zobrazeného objektu je možné vygenerovat PDF výběrem příkazu z kontextového menu dané úrovně. Uživatel může zadat rozsah stran, které bude PDF obsahovat

===Poznámky k technickému řešení:===
Systém rekurzivně projde všechny případné objekty odkazované přes vazby RDF typu fedora:hasPart, sestaví z nich seznam objektů, které mají datastream IMG_FULL a zobrazí jej v dialogovém okně, kde uživatel potvrdí požadovaný rozsah a spustí generování PDF. Výsledné PDF je nabídnuto ke stažení na uživatelův lokální disk. 


=Integrace do existujících systémů=

Rozhraní je tvořeno sadou jsp stránek, které bude možné integrovat do HTML, případně portletů.
Pro distribuci bude vhodné vytvořit minimální verzi – komponenty Krameria spojené pomocí statického HTML a plnou s využitím portálu Liferay.

=Úpravy vzhledu=

Jednotlivé komponenty budou zpracovány samostatně, tak aby bylo možné je rozmístit na obrazovce v různém pořadí.

Vzhled na úrovni designu pak bude ovlivněn volitelným css.