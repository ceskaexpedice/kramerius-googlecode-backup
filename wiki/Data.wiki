#summary Datový model
#sidebar FunkcniPozadavky
<wiki:toc max_depth="1" />

Kramerius 4 používá zobecněný datový model vycházející z návrhu společnosti Qbizm vytvořeném v rámci proof of concept převodu dat ze struktury Kramerius 3 do úložiště Fedora.  


=Identifikátor digitálních objektů=
Každý digitální objekt systému Kramerius 4 má jednoznačný identifikátor UUID, generovaný stejným algoritmem, který byl použit v systému Kramerius 3, doplněný prefixem uuid:

_TODO:_ Je třeba vyjasnit požadavky na použití identifikátorů založených na SIGLA a číslech zakázek. Rovněž je třeba přesně specifikovat požadavky na funkcionalitu persistentních identifikátorů  handle. Tyto informace je možné uchovávat v poli AlternateIDs.  

=Datové streamy=
Objekty používají datové streamy navržené v rámci POC, povinné streamy jsou DC, BIBLIO_MODS a RELS_EXT. 

Objekty, které obsahují binární stream IMG_FULL s obrázkem v plném rozlišení, jsou oproti POC rozšířeny o další binární stream IMG_THUMB s náhledem obrázku (ve formátu JPG s nízkým rozlišením) pro zobrazení v souhrnných přehledech.

Další rozšíření oproti POC je standardní datový stream POLICY, který obsahuje přístupová  práva ve formátu XACML - použit pouze u objektů s omezeným přístupem.

Donátor bude řešen jako vazba v RELS-EXT na speciální FO-XML objekt, který bude obsahovat i další údaje o donátorovi.  Tento způsob umožňuje informace automaticky indexovat v RI a navíc je možno snáze přidávat nové donátory. Donátora je nutné extrahovat z pole creator  (změna v konverzním programu).

=Rozšiřování modelu o nové typy dokumentů=
Digitální objekty v systému Kramerius 4 tvoří obecnou stromovou strukturu s vazbami definovanými  pomocí RDF vazeb, které jsou potomky vazeb fedora:hasPart a fedora:isPartOf. 

Systém lze libovolně rozšiřovat o nové typy objektů přidáním příslušného objektu cmodel s povinnými datovými streamy DC, BIBLIO_MODS a RELS_EXT.   


=Přehled obsahu streamů DC a RELS_EXT pro jednoltivé typy objektů=

==monograph==

RELS_EXT:
  hasModel
  
  hasUnit

  hasPage

  hasIntCompPart

  donator

  contract (literal)

  handle (literal)

  policy (literal)

DC:
  title

  creator

  publisher

  contributor

  identifier - uuid

  identifier - contract

  identifier - isbn / extid

  identifier - handle

  subject - ddc

  subject - udc

  description

  date

  type
  
  language

  rights


==monographUnit==

RELS_EXT:
  hasModel

  hasPage

  hasIntCompPart

  contract (literal)

  handle (literal)

  policy (literal)

DC:
  title

  creator

  publisher
 
  contributor

  identifier - uuid

  identifier - contract

  identifier - handle

  type

  rights

IMG_FULL, IMG_THUMB, IMG_FULL_ADM, TEXT_OCR, TEXT_OCR_ADM


==monograph internalpart==

RELS_EXT: 
  hasModel

  isOnPage

  handle (literal)

  policy (literal)

DC:
  title

  creator

  contributor

  identifier - uuid

  identifier - handle

  type

  rights


==monograph page==

RELS_EXT: 
  hasModel

  file (literal)

  handle (literal)

  policy (literal)

DC:
  title

  identifier - uuid

  identifier - handle

  type

  rights

IMG_FULL, IMG_THUMB, IMG_FULL_ADM, TEXT_OCR, TEXT_OCR_ADM


==periodical==

RELS_EXT:
  hasModel

  hasVolume

  donator

  handle (literal)

  policy (literal)

DC:
  title

  creator
  
  publisher

  contributor

  identifier - uuid

  identifier - issn

  identifier - handle

  subject - ddc

  subject - udc

  description

  date

  type

  language

  rights


==periodicalvolume==

RELS_EXT:
  hasModel

  hasItem

  hasPage

  hasIntCompPart

  contract (literal)

  handle (literal)

  policy (literal)

DC:
  title

  creator

  publisher

  contributor

  identifier - uuid

  identifier - contract

  identifier - handle

  description

  date

  type

  rights


==periodicalitem==

RELS_EXT:
  hasModel

  hasPage

  hasIntCompPart

  contract (literal)

  handle (literal)

  policy (literal)

DC:
  title

  creator

  publisher

  contributor

  identifier - uuid

  identifier - contract

  identifier - handle

  description

  date

  type
 
  rights

IMG_FULL, IMG_THUMB, IMG_FULL_ADM, TEXT_OCR, TEXT_OCR_ADM


==periodical internalpart==

RELS_EXT: 
  hasModel

  isOnPage

  handle (literal)

  policy (literal)

DC:
  title

  creator

  contributor
  
  identifier - uuid

  identifier - handle

  type

  rights


==periodical page==

RELS_EXT: 
  hasModel

  file (literal)

  handle (literal)

  policy (literal)

DC:
  title

  identifier - uuid

  identifier - handle

  type

  rights

IMG_FULL, IMG_THUMB, IMG_FULL_ADM, TEXT_OCR, TEXT_OCR_ADM
 