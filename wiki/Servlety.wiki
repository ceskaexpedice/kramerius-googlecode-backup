#summary Přehled servletů v K4

= Veřejné služby =

==img==

Univerzální servlet, který zpřístupňuje obrázky (případně modifikované).  

Parametry:
  * *uuid* - uuid dotazovaného objektu
  * *stream* - obrázkový stream (IMG_FULL, IMG_THUMB, případně i jiný) #
  * *action* - specifikuje akci, která se má provádět. Akce nelze v rámci jednoho volání kombinovat.  Možné akce jsou:  
    * *TRANSCODE* - vrací obrázek v jiném formátu.  Vyžaduje dodatečný parametr výstupního formátu.   Příklad: `img?uuid=0...&stream=IMG_FULL&action=TRANSCODE&outputFormat=jpg`
    * *SCALE* - vrací zmenšeninu nebo zvětšeninu obrázku ve formátu JPG. Vyžaduje dodatečné parametry pro zmešení/zvětšení. Umožnuje měnit velikost dle výšky, šířky a dle procent.  Příklady: `img?uuid=0...&stream=IMG_FULL&action=SCALE&scaledHeight=128, img?uuid=0...&stream=IMG_FULL&action=SCALE&scaledWidth=450, img?uuid=0...&stream=IMG_FULL&action=SCALE&scaled=0.5` 
    * *GETRAW* - vrací surová data z požadovaného streamu. Nevyžaduje žádné dodatečné parametry. Příklad:  `img?uuid=0...&stream=IMG_FULL&action=GETRAW`
  * *outputFormat* - výstupní formát pro akci TRANSCODE. Podporovované výstupní parametry servletu: 
    * “outputFormat=jpg”  - JPEG format
    * “outputFormat=png”  - PNG format
    * “outputFormat=gif”  - GIF format
  * *scaledHeight, scaledWidth, scaled* - požadovaná velikost výstupního obrázku pro akci SCALE - viz příklady výše

 
==i18n==

třída  cz.incad.Kramerius.I18NServlet

Servlet umožňující různými způsoby podávat resource bundly a lokalizované texty. Použivá se při XSLT transformaci (lokalizování textů - model, page, monograph, atd...), při lokalizaci dialogu pomocí ajaxu (login dialog), atd..   

Produkuje bundle nebo text jako  xml a json.  

Použití: 

`i18n?action=(text | bundle)&name=<name_of_bundle|name_of_text>&format=(xml|json) [&lang=<lang>&country=<country>]`

Pozn.: Parametry `lang=<language>&country=<country>` mohou měnit locale, které se použije pro podání textu či resourcebundle. Musí být uvedené oba parametry. Pokud nejsou, použije se locale svázaný s requestem a session v K4 (viz dokument O lokalizaci v K4).  

Příklad: 
`i18n?action=bundle&name=labels&format=xml&lang=cs&country=cz`   _správné použití_
`i18n?action=bundle&name=labels&format=xml&lang=cs`   _špatné použití_





= Interní a historické =

==privateContent== 

nepoužíván, nahradil ho viewInfoServlet

==iip==

podpora IIP protokolu, vznikl ještě před deepZoom servletem v době, kdy ještě nebyla vybrána prohlížečka.   - Mohlo by obživnout pokud by byla potřeba 


 





 