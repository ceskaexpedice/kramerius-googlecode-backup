#summary Popis zátěžových testů v NKP

= Zátěžový test K4 =

Zadavatel NKČR

Realizace Incad

Účelem testů je ověřit, jak se komponenty K4 budou chovat v rozsahu přesahujícím 1,5M objektů.
Test bude proveden do cca 20M a 50M objektů.
Záznam o provedeném zátěžového testu bude veden v dokumentu na wiki K4.


==Postup==

Zvolené tituly
  * Monografie: Kniha zlatá (441 objektů)
  * Periodikum: Jurendes Mahrischer Wanderer (1 ročník, 194 objektů)

Test bude proveden na nově instalovaných virtuálních serverech v Klementinu (kdbkram1, kfedkram1 a ksolrkram1). 

Záznamy budou multiplikovány  s rozdílným UUID pomocí skriptu a importovány v dávkách po 1600 multiplikacích (1 016 000 FOXML objektů). Multiplikované objekty budou sdílet stejné refernece na externí soubory s obrázky a OCR. Cílem testu je ověřit funkčnost Fedory a indexů, nikoli externího datového úložiště. 

Po každé dávce importu bude provedena indexace a  ověřena odezva systému.
V případě zpomalení odezvy bude příčina analyzována a navrženo řešení.
Po skončení testu budou všechny použité databáze, indexy a úložiště smazány.

==Měření==

1. Počáteční stav (6350 objektů)
  * otevření titulu : 2.5s
  * vyhledání ze záložky Tituly: 1 s
  * vyhledání  fulltext "zlatá": 1 s

Import ze samostatného procesu bez indexace: 1 dávka (635 objektů) cca 17 s. (37 obj/s)