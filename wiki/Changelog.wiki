#summary Přehled změn v jednotlivých verzích
<wiki:toc max_depth="1" />

=Verze 4.2.3 (2168)=

_Poznámka:_ Při upgrade z verze 4.2.1 je třeba nahradit všechny 4 soubory z `Kramerius-4.2.3.zip` , ze souboru `installation-4.2.3.zip` stačí nahradit soubor `solr/conf/schema.xml`.

  * Issue 34 - opraven email s generovaným heslem
  * Issue 35 - opraveny chyby u záložky Informace
  * Issue 11 - zachování URL po přihlášení
  * Issue 39 - alternativní způsob předání parametrů procesům
  * Issue 40 - podpora PDF v konvertoru K3->K4
  * Issue 36 - proces importer prochází podadresáře v abecedním pořadí
  * Issue 45 - opravena chyba ve zpracování persistentního URL (handle)
  * Issue 44 - URL pro spouštění externích editorů je odvozeno z URL requestu, ne ze systémové property
  * Issue 46 - předávání autentizačních údajů mezi kaskádovitě spouštěnými procesy
  * Issue 38 - vylepšeno chování procesu pro generování cache deepZoom dlaždic
  * Issue 54 - změna názvu parametru v URL pro volání externího editoru metadat
  * Issue 51 - automatické zavírání kontextového menu
  * Issue 52 - opraveno chování lišty pro stránkování ve výsledcích vyhledávání
  * Issue 53 - opravena nefunkční tlačítka stránkování při zobrazení plné velikosti stran
  * Issue 43 - opravena chyba zobrazování velkého náhledu v prohlížečích s jádrem Webkit


=Verze 4.2.1 (2068)=

  * Opravena chyba v nastavování přístupových práv bez parametru
  * Upraven dialog pro generování PDF

=Verze 4.2.0=

  * Issue 33 - v přehledu procesů je zaznamenáván uživatel spouštějící proces 
     (Struktura databázových tabulek je automaticky aktulizována při prvním spuštění K4)

  * Zlepšená podpora uživatelsky definované datové struktury
      nová konfigurační property fedora.treePredicates, opravy v šablonách, kontextovém menu

  * Reindexace dokumentů rekursivně s ohledem na datum importu. Není potřeba reindexovat celý strom, jen tu větev, kde došlo k změně.

  * Možnost reindexace všech dokumentů s daným modelem nejvyší úrovně (např. všechny monografie)

  * Issue 15 - sjednoceno indexování a lokalizace položek ve facetu Typ dokumentu 

  * Issue 32 - pro spuštění procesu mimo GUI je třeba autentizace dle parametru v url

  * Issue 27 - Dialog pro změnu příznaku kramerius:policy obsahuje informaci o tom, jak je aktuálně nastavený  

  * Issue 30 - Prohlížečka Seadragon distribuována jako součást K4

  * Issue 31, Issue 17, Issue 16 - Změna definice procesů v lp.xml nevyžaduje restart aplikace, sjednocena konfigurace logování (všechno logování je přesměrováno na standardní logovací API JDK)

  * Issue 26 - Lokalizace login dialogu

  * Issue 19 - Opraveno zobrazování neobvyklých struktur dokumentů

  * Issue 25 - Odstraněn středník za autorem v seznamu monografií

  * Sjednocen styl uživatelského rozhraní

  * Issue 29 - Nový systém správy uživatelů a přístupových práv
     Popis a způsob použití je v dokumentu [Prava], instalace v [Instalace#Přístupová práva uživatelů] 

     Upozornění: Při přechodu ze starších verzí K4 do tomcat/lib nakopírujte jar s jdbc ovladačem pro postgresql, nejlépe z distribuce databáze PostgreSQL nebo z archivu search.war/WEB-INF/lib  - ovladač z distribuce fedora 3.3 patří k PostgreSQL 8.3 a s Krameriem 4.2 a novějším nefunguje.

  * Issue 28 - Podpora pro obrazové soubory mimo úložiště Fedora (včetně IIP image serveru)
    (zaveden nový literál v RELS-EXT, viz [Instalace])

  * Podpora pro ALTO
     (Soubor s informacemi ALTO se ukládá do datastreamu ALTO, který v tom případě nahrazuje datastream TEXT_OCR)
 
  * Fulltextové vyhledávání v rámci vybraného dokumentu

  * Issue 9 - Opraveny zjištěné problémy GUI v prohlížeči MSIE

  * Konvertor K3 -> K4 umožňuje využití externích odkazů v binárních datastreamech (file URL)
     zavedeny nové properties do migration.properties:
{{{
# target directory for conversion
convert.target.directory=${sys:user.home}/.kramerius4/convert-converted


#target directory for replication and conversion
migration.target.directory=${sys:user.home}/.kramerius4/replication-converted

#convertor will create subfolder with contract name in the conversion target subfolder, the contents of the target directory is not deleted prior conversion batch  
convert.useContractSubfolders=false

# controls how convertor K3->K4 should embed binary streams ( encoded/referenced/external)
convert.files=encoded
# controls how convertor K3->K4 should embed preview streams ( encoded/referenced/external)
convert.previews=encoded
# controls how convertor K3->K4 should embed thumbnail streams ( encoded/referenced/external)
convert.thumbnails=encoded


#ingest and indexing phases of migration processes will be skipped
ingest.skip=false

}}}

  * Generování velkých náhledů a jejich parametrizovaná velikost v konvertoru
     zavedeny nové properties do migration.properties:
{{{
# controls if convertor K3->K4 should generate IMG_PREVIEW
convert.generatePreview=true

# size of the generated preview in pixels (maximum height or width)
convert.previewSize=700
}}}

  * Integrován editor pořadí podřízených částí dokumentu  (tedy RDF vazeb a jejich pořadí v RELS-EXT) 